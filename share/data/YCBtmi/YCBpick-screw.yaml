- 
  taskName: "pick(YCB screw)"
  comment: "The robot pick a screw from a feeder. Finger attachments are used to robustly grasp the screw in a given pose. A tape with proper friction is pasted on the attachments|Original rubber is too adhesive to release the screw smoothly.||2 step motion is used for robust grasping.|Fixture kit: http://...|YCB Airplane: http://...||"
  initialize: ""
  models: 
    - 
      name: "screw"
      rname: "screw"
      type: Env.
      file_name: "boltHrp.wrl"
      pos_x: 0.349
      pos_y: -0.148
      pos_z: 0.81
      rot_x: 0
      rot_y: -0
      rot_z: 0
  states: 
    - 
      id: 693
      type: 1
      condition: ""
      pos_x: -68
      pos_y: -211
    - 
      id: 694
      type: 2
      condition: ""
      pos_x: 164
      pos_y: 215
    - 
      id: 695
      type: 5
      cmd_name: "moveArm"
      disp_name: "approach position"
      condition: ""
      pos_x: 5.87810993
      pos_y: -139.605111
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose))*(xyz(grasp_pose) + [0,0,0.05])"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 696
      type: 5
      cmd_name: "moveArm"
      disp_name: "grasp position"
      condition: ""
      pos_x: 89.6411765
      pos_y: -120.501254
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose))*xyz(grasp_pose)"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "1.5"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 697
      type: 5
      cmd_name: "moveGripper"
      disp_name: "pre-grasp"
      condition: ""
      pos_x: 12
      pos_y: -78
      arguments: 
        - 
          seq: 1
          name: "width"
          value: "0.025"
        - 
          seq: 2
          name: "tm"
          value: "0.5"
        - 
          seq: 3
          name: "gripperID"
          value: "handID"
    - 
      id: 698
      type: 5
      cmd_name: "moveGripper"
      disp_name: "grasp a screw"
      condition: ""
      pos_x: 84.2385295
      pos_y: -37.2859065
      model_actions: 
        - 
          action: "attach"
          model: "screw"
          target: "handID"
      arguments: 
        - 
          seq: 1
          name: "width"
          value: "0.02"
        - 
          seq: 2
          name: "tm"
          value: "0.3"
        - 
          seq: 3
          name: "gripperID"
          value: "handID"
    - 
      id: 699
      type: 5
      cmd_name: "moveArm"
      disp_name: "pick-up position"
      condition: ""
      pos_x: 129.810193
      pos_y: 0
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * (xyz(grasp_pose) + [0,0,0.05])"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "1.5"
        - 
          seq: 4
          name: "armID"
          value: "handID"
  transitions: 
    - 
      source_id: 693
      target_id: 695
    - 
      source_id: 695
      target_id: 696
    - 
      source_id: 696
      target_id: 697
    - 
      source_id: 697
      target_id: 698
    - 
      source_id: 698
      target_id: 699
    - 
      source_id: 699
      target_id: 694
  parameters: 
    - 
      name: "hand selection (0=left, 1=right)"
      rname: "handID"
      type: 0
      model_name: ""
      units: ""
      elem_num: 1
      elem_type: 1
      values: "1"
    - 
      name: "screw frame"
      rname: "screw_pose"
      type: 1
      model_name: "screw"
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0.3490, -0.1480, 0.8100, 0.0000, 0.0000, 0.0000"
    - 
      name: "grasp frame"
      rname: "grasp_pose"
      type: 0
      model_name: ""
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0, 0, 0.105, 0, -90, 0"
  files: 
    - 
      name: "fixture2.stl"
    - 
      name: "2step_grasp.mp4"
  images: 
    - 
      name: "ycb_toy_plane.png"
    - 
      name: "feeder.png"
    - 
      name: "fixture.png"
    - 
      name: "screwing_task.png"
    - 
      name: "finger_attachment.png"
