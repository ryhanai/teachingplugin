- 
  taskName: "screwing (YCB driver bit)"
  comment: "- fasten a screw with a bit included in YCB airplane kit.|- grope the screw head to avoid getting stuck (grope_screw_head.mp4).|- the hexagonal shape, proper grasping force and friction enables to fasten up the screw (fasten_by_slipping.mp4)."
  initialize: ""
  models: 
    - 
      name: "bit"
      rname: "bit"
      type: Env.
      file_name: "driver_tipHrp.wrl"
      pos_x: 0.4408
      pos_y: 0.07
      pos_z: 0.9707
      rot_x: -8.7
      rot_y: 5
      rot_z: 99.5
    - 
      name: "screw"
      rname: "screw"
      type: Env.
      file_name: "boltHrp.wrl"
      pos_x: 0.449
      pos_y: 0.067
      pos_z: 0.9215
      rot_x: 0
      rot_y: -10
      rot_z: -20
  states: 
    - 
      id: 1202
      type: 1
      condition: ""
      pos_x: -80.2197666
      pos_y: -168.625224
    - 
      id: 1203
      type: 2
      condition: ""
      pos_x: 252.00931
      pos_y: 492.387421
    - 
      id: 1204
      type: 5
      cmd_name: "true"
      disp_name: "true"
      condition: ""
      pos_x: 137.856339
      pos_y: -130.281815
      model_actions: 
        - 
          action: "attach"
          model: "bit"
          target: "handID"
    - 
      id: 1205
      type: 5
      cmd_name: "moveArm"
      disp_name: "contact with the screw 1"
      condition: ""
      pos_x: 63.524137
      pos_y: 87.0004485
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,90]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "3.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1206
      type: 5
      cmd_name: "moveArm"
      disp_name: "rotate 1"
      condition: ""
      pos_x: 108.745034
      pos_y: 124.909836
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length-0.002] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,-60]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "3.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1207
      type: 5
      cmd_name: "moveArm"
      disp_name: "release 1"
      condition: ""
      pos_x: 81.6445546
      pos_y: 179.61802
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length+0.02] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,-60]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1208
      type: 5
      cmd_name: "moveArm"
      disp_name: "rotate back 1"
      condition: ""
      pos_x: 27.61919
      pos_y: 203.001047
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length+0.02] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,120]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "4.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1209
      type: 5
      cmd_name: "moveArm"
      disp_name: "contact with the screw 2"
      condition: ""
      pos_x: 68.2050687
      pos_y: 248.018432
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length-0.002] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,120]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "4.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1210
      type: 5
      cmd_name: "moveArm"
      disp_name: "rotate 2"
      condition: ""
      pos_x: 2.33270156
      pos_y: 279.924187
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length-0.005] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,-60]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "4.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1211
      type: 5
      cmd_name: "moveArm"
      disp_name: "release 2"
      condition: ""
      pos_x: 88.381408
      pos_y: 309.334928
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length+0.02] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,-60]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1212
      type: 5
      cmd_name: "moveArm"
      disp_name: "a little above contact"
      condition: ""
      pos_x: -120.501254
      pos_y: 104.336451
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length+0.005] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,120]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "3.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1213
      type: 5
      cmd_name: "moveArm"
      disp_name: "rotate back a little"
      condition: ""
      pos_x: -2.93905497
      pos_y: 160.178496
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length+0.002] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,105]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 1214
      type: 5
      cmd_name: "moveArm"
      disp_name: "rotate a little"
      condition: ""
      pos_x: -105.805979
      pos_y: 217.490068
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(screw_pose) + rotFromRpy(rpy(screw_pose)) * ([0,0,screw_length] + xyz(grasp_pose))"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(screw_pose)) * rotFromRpy([0,0,90]) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
  transitions: 
    - 
      source_id: 1205
      target_id: 1206
    - 
      source_id: 1206
      target_id: 1207
    - 
      source_id: 1207
      target_id: 1208
    - 
      source_id: 1208
      target_id: 1209
    - 
      source_id: 1209
      target_id: 1210
    - 
      source_id: 1210
      target_id: 1211
    - 
      source_id: 1213
      target_id: 1205
    - 
      source_id: 1212
      target_id: 1214
    - 
      source_id: 1214
      target_id: 1213
    - 
      source_id: 1202
      target_id: 1204
    - 
      source_id: 1204
      target_id: 1212
    - 
      source_id: 1211
      target_id: 1203
  parameters: 
    - 
      name: "hand selection (0=left, 1=right)"
      rname: "handID"
      type: 0
      model_name: ""
      units: ""
      elem_num: 1
      elem_type: 1
      values: "1"
    - 
      name: "grasp pose"
      rname: "grasp_pose"
      type: 0
      model_name: ""
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0, 0, 0.18, 0, -90, 0"
    - 
      name: "screw pose"
      rname: "screw_pose"
      type: 1
      model_name: "screw"
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0.4490, 0.0670, 0.9215, 0.0000, -10.0000, -20.0000"
    - 
      name: "screw length"
      rname: "screw_length"
      type: 0
      model_name: ""
      units: ""
      elem_num: 1
      elem_type: 0
      values: "0.0"
    - 
      name: "waypoint1"
      rname: "waypoint1"
      type: 0
      model_name: ""
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0.4, -0.1, 1.14, 0, -90, 0"
  files: 
    - 
      name: "fasten_by_slipping.mp4"
    - 
      name: "grope_screw_head.mp4"
  images: 
    - 
      name: "bit_handle.png"
