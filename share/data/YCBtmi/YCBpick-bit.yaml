- 
  taskName: "pick (YCB driver bit)"
  comment: "- pick up a driver bit included in YCB airplane kit.|- handle is attached to the driver bit (driver_bit_handle.stl). |- the handle has hexagonal shape so it is grasped with the same hand as screws in YCB kit.||parameters:| bit pose: the pose of the bit to be picked| grasp pose: the pose of the palm link relative to 'bit pose'"
  initialize: ""
  models: 
    - 
      name: "bit"
      rname: "bit"
      type: Env.
      file_name: "driver_tipHrp.wrl"
      pos_x: 0.448
      pos_y: -0.142
      pos_z: 0.773
      rot_x: 0
      rot_y: -0
      rot_z: 0
  states: 
    - 
      id: 989
      type: 1
      condition: ""
      pos_x: -68
      pos_y: -211
    - 
      id: 990
      type: 2
      condition: ""
      pos_x: 38.6303409
      pos_y: 101.843626
    - 
      id: 991
      type: 5
      cmd_name: "moveArm"
      disp_name: "approach position"
      condition: ""
      pos_x: -24.857271
      pos_y: -147.762667
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(bit_pose) + rotFromRpy(rpy(bit_pose)) * (xyz(grasp_pose) + [0,0,0.05])"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(bit_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "2.0"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 992
      type: 5
      cmd_name: "moveArm"
      disp_name: "grasp position"
      condition: ""
      pos_x: -8
      pos_y: -111
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(bit_pose) + rotFromRpy(rpy(bit_pose))*xyz(grasp_pose)"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(bit_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "1.5"
        - 
          seq: 4
          name: "armID"
          value: "handID"
    - 
      id: 993
      type: 5
      cmd_name: "moveGripper"
      disp_name: "pre-grasp"
      condition: ""
      pos_x: 81.4766105
      pos_y: -75.9527725
      arguments: 
        - 
          seq: 1
          name: "width"
          value: "0.028"
        - 
          seq: 2
          name: "tm"
          value: "1.0"
        - 
          seq: 3
          name: "gripperID"
          value: "handID"
    - 
      id: 994
      type: 5
      cmd_name: "moveGripper"
      disp_name: "grasp a bit"
      condition: ""
      pos_x: 111.969675
      pos_y: -34.9905234
      model_actions: 
        - 
          action: "attach"
          model: "bit"
          target: "handID"
      arguments: 
        - 
          seq: 1
          name: "width"
          value: "0.017"
        - 
          seq: 2
          name: "tm"
          value: "1.0"
        - 
          seq: 3
          name: "gripperID"
          value: "handID"
    - 
      id: 995
      type: 5
      cmd_name: "moveArm"
      disp_name: "pick-up position"
      condition: ""
      pos_x: 61.6949724
      pos_y: -6.16949724
      arguments: 
        - 
          seq: 1
          name: "xyz"
          value: "xyz(bit_pose) + rotFromRpy(rpy(bit_pose)) * (xyz(grasp_pose) + [0,0,0.05])"
        - 
          seq: 2
          name: "rpy"
          value: "rpyFromRot(rotFromRpy(rpy(bit_pose)) * rotFromRpy(rpy(grasp_pose)))"
        - 
          seq: 3
          name: "tm"
          value: "1.5"
        - 
          seq: 4
          name: "armID"
          value: "handID"
  transitions: 
    - 
      source_id: 989
      target_id: 991
    - 
      source_id: 991
      target_id: 992
    - 
      source_id: 992
      target_id: 993
    - 
      source_id: 993
      target_id: 994
    - 
      source_id: 994
      target_id: 995
    - 
      source_id: 995
      target_id: 990
  parameters: 
    - 
      name: "hand selection (0=left, 1=right)"
      rname: "handID"
      type: 0
      model_name: ""
      units: ""
      elem_num: 1
      elem_type: 1
      values: "1"
    - 
      name: "bit pose"
      rname: "bit_pose"
      type: 1
      model_name: "bit"
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0.4480, -0.1420, 0.7730, 0.0000, 0.0000, 0.0000"
    - 
      name: "grasp pose"
      rname: "grasp_pose"
      type: 0
      model_name: ""
      units: ""
      elem_num: 6
      elem_type: 0
      values: "0, 0, 0.18, 0, -90, 0"
  files: 
    - 
      name: "finger_attachments.stl"
    - 
      name: "driver_bit_handle.stl"
  images: 
    - 
      name: "feeder.png"
    - 
      name: "bit_handle.png"
    - 
      name: "pick position view1.png"
    - 
      name: "pick position view2.png"
